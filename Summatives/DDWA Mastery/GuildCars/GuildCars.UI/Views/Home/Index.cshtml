@model GuildCars.UI.Models.HomeViewModel

@{
    ViewBag.i = 1;
    ViewBag.j = 1;
}

<div class="row col-12-xs">
    <div id="specials" class="carousel slide" data-ride="carousel">

        <!-- Indicators -->
        <ul class="carousel-indicators">
            @foreach (var special in Model.specials)
             {

                if (ViewBag.i == 1)
                {
                    <li data-target="#specials" data-slide-to="(@ViewBag.i)" class="active"></li>
                }

                else
                {
                    <li data-target="#specials" data-slide-to="(@ViewBag.i)"></li>
                }

                ViewBag.i++;
            }
        </ul>

        <!-- The slideshow -->
        <div class="carousel-inner">

            @foreach (var special in Model.specials)
            {
                if (ViewBag.j == 1)
                {
                    <div class="carousel-item active">

                        <a href="@Url.Action("specials", "home")">
                            <img src="~/Images/jumbotronback.jpg" alt="@special.SpecialTitle">
                        </a>

                        <div class="carousel-caption" id="special-jumbo-title">
                                @special.SpecialTitle
                        </div>

                        <div id = "special-subtext" class="carousel-caption">
                            @Html.ActionLink("Click to find out more", "specials", null, new { @id = "jumbotron-link"})
                        </div>

               
                    </div>
                }
                else
                {
                    <div class="carousel-item">
                        <img src="~/Images/jumbotronback.jpg" alt="@special.SpecialTitle">
                        <div class="carousel-caption" id="special-jumbo-title">
                            @special.SpecialTitle
                        </div>

                        <div id="special-subtext" class="carousel-caption">
                            @Html.ActionLink("Click to find out more", "specials", null, new { @id = "jumbotron-link" })
                        </div>
                    </div>
                }

                ViewBag.j++;
            }

        </div>

        <!-- Left and right controls -->
        <a class="carousel-control-prev" href="#specials" data-slide="prev">           
        </a>
        <a class="carousel-control-next" href="#specials" data-slide="next">            
        </a>

    </div>
</div>


<hr>
<div class="row col-xs-12 featured-spacing">
    <h3 style="font-weight: bold">Featured Vehicles</h3>
</div>

<div class="row col-xs-12 featured-spacing">
    
    @foreach (var vehicle in Model.featured)
    {
            <div class="col-sm-12 col-md-6 col-lg-3 col-xl-2 featured-vehicle">
                <p>
                      <a href="@Url.Action("details", "inventory", new { id = vehicle.vehicleId })">
                            <img alt="" src="@Url.Content("~/Images/" + vehicle.PictureFileName)">
                      </a>
                </p>
                
                <p>@vehicle.Year @vehicle.MakeName @vehicle.ModelName</p>
                <p>@vehicle.SalesPrice.ToString("c")</p>
            </div>
    }
</div>